---
layout: post
title: "Problem 45 - Triangular, pentagonal, and hexagonal"
date: 2016-05-21 11:41
mathjax: true
number: 45
---

## Question

Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:

| Type       | Formula                    | First terms           |
| ---------- | -------------------------- | --------------------- |
| Triangle   | $$T_n=\frac{1}{2}n(n+1)$$  | 1, 3, 6, 10, 15, ...  |
| Pentagonal | $$P_n=\frac{1}{2}n(3n-1)$$ | 1, 5, 12, 22, 35, ... |
| Hexagonal  | $$H_n=n(2n-1)$$            | 1, 6, 15, 28, 45, ... |

It can be verified that $$T_{285}=P_{165}=H_{143}=40755$$.

Find the next triangle number that is also pentagonal and hexagonal.

## Answer

First, following the patterns of hexagonal and triangle numbers (and maybe even visually), you might be suspicious that hexagonal and triangle numbers are related somehow. In fact,


$$
H_n=n(2n-1)=\frac{1}{2}(2n)(2n-1)=\frac{1}{2}(2n-1)((2n-1)+1)=T_{2n-1}
$$


So that means that all hexagonal numbers are triangle numbers! That reduces the problem a lot, as now we only need to check to see what is the next hexagonal number that is also a pentagonal number. Using the same function from the [previous problem]({{ site.baseurl }}{% post_url 2016-05-20-Problem-44---Pentagonal-numbers %}), we can set up a simple loop starting from $H_{144}$, and keep checking each hexagonal number until we reach a pentagonal number:

```python
n = 144 # H_143 is pentagonal
hexNum = n * (2 * n - 1)
while not isPentagonal(hexNum):
    n += 1
    hexNum = n * (2 * n - 1)

print(n, hexNum)
```

Running this quick loop results in,

```python
27693 1533776805
0.03727003511300319 seconds.
```

Therefore, $$H_{27693}=\boxed{1533776805}$$ is the next number which is triangular, pentagonal, and hexagonal.