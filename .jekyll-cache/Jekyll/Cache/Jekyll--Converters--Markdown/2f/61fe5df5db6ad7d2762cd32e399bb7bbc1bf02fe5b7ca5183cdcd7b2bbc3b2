I"ü<h2 id="question">Question</h2>

<p>Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Formula</th>
      <th>First terms</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Triangle</td>
      <td>\(T_n=\frac{1}{2}n(n+1)\)</td>
      <td>1, 3, 6, 10, 15, â€¦</td>
    </tr>
    <tr>
      <td>Pentagonal</td>
      <td>\(P_n=\frac{1}{2}n(3n-1)\)</td>
      <td>1, 5, 12, 22, 35, â€¦</td>
    </tr>
    <tr>
      <td>Hexagonal</td>
      <td>\(H_n=n(2n-1)\)</td>
      <td>1, 6, 15, 28, 45, â€¦</td>
    </tr>
  </tbody>
</table>

<p>It can be verified that \(T_{285}=P_{165}=H_{143}=40755\).</p>

<p>Find the next triangle number that is also pentagonal and hexagonal.</p>

<h2 id="answer">Answer</h2>

<p>First, following the patterns of hexagonal and triangle numbers (and maybe even visually), you might be suspicious that hexagonal and triangle numbers are related somehow. In fact,</p>

\[H_n=n(2n-1)=\frac{1}{2}(2n)(2n-1)=\frac{1}{2}(2n-1)((2n-1)+1)=T_{2n-1}\]

<p>So that means that all hexagonal numbers are triangle numbers! That reduces the problem a lot, as now we only need to check to see what is the next hexagonal number that is also a pentagonal number. Using the same function from the <a href="/ProjectEuler/ProjectEuler/Problem-44-Pentagonal-numbers/">previous problem</a>, we can set up a simple loop starting from $H_{144}$, and keep checking each hexagonal number until we reach a pentagonal number:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">n</span> <span class="o">=</span> <span class="mi">144</span> <span class="c1"># H_143 is pentagonal
</span><span class="n">hexNum</span> <span class="o">=</span> <span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">isPentagonal</span><span class="p">(</span><span class="n">hexNum</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">hexNum</span> <span class="o">=</span> <span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">hexNum</span><span class="p">)</span>
</code></pre></div></div>

<p>Running this quick loop results in,</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>27693 1533776805
0.03727003511300319 seconds.
</code></pre></div></div>

<p>Therefore, \(H_{27693}=\boxed{1533776805}\) is the next number which is triangular, pentagonal, and hexagonal.</p>
:ET