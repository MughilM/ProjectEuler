I"À<h2 id="question">Question</h2>

<p>The prime 41, can be written as the sum of six consecutive primes:</p>

\[41=2+3+5+7+11+13\]

<p>This is the longest sum of consecutive primes that adds to a prime below one-hundred.</p>

<p>The longest sum of consecutive primes below one-thousand that adds to a prime, contains 21 terms, and is equal to 953.</p>

<p>Which prime, below one-million, can be written as the sum of the most consecutive primes?</p>

<h2 id="answers">Answers</h2>

<p>Note that we are looking for the <strong>longest</strong> sum, not the largest sum. Therefore, since we can generate a list of primes, we will start at 2, and keep adding terms consecutively. If we reach a prime, then we update the length of the sum. We keep going until our sum exceeds 1 million. Once weâ€™re done starting our sum from 2, we then move to starting the sum with 3. However, since we have saved the longest sum length so far, we have to add that many terms i.e. If the longest sum starting with 2 is 200 digits long, then we start checking sums starting from 3 from 201 digits onward. Like this, we check through all the primes.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">primes</span> <span class="o">=</span> <span class="n">primesieve</span><span class="p">.</span><span class="n">primes</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span>
<span class="c1"># Start from 2, and keeping adding on up until
# sum exceeds 1 million.
# If we come across a prime, then update the
# chain length. Once 2s are done, move on to 3,
# but now start from the longest chain length.
</span><span class="n">chainLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">maxPrime</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">chainLength</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">while</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">primes</span><span class="p">):</span>
    <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">chainLength</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">primes</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">j</span><span class="p">])</span>
    <span class="k">while</span> <span class="n">s</span> <span class="o">&lt;</span> <span class="mi">1000000</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">primes</span><span class="p">:</span>
            <span class="n">chainLength</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="n">i</span>
            <span class="n">maxPrime</span> <span class="o">=</span> <span class="n">s</span>
        <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">primes</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="k">print</span><span class="p">(</span><span class="n">maxPrime</span><span class="p">,</span> <span class="s">'with'</span><span class="p">,</span> <span class="n">chainLength</span><span class="p">,</span> <span class="s">'consecutive primes.'</span><span class="p">)</span>
</code></pre></div></div>

<p>Running the above results in an output of,</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>997651 with 543 consecutive primes.
1.3174206796941914 seconds.
</code></pre></div></div>

<p>Therefore, the longest sum has 543 terms and evaluates to <strong>997561</strong>.</p>
:ET